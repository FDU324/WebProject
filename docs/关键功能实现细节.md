## 关键功能实现细节
#### 客户端与服务器通信
登录后客户端发起socket请求，与服务器进行连接。服务器将当前socket的id与账号以键值对形式存入在线用户列表中<br>
建立完连接后一些关键功能，如发送动态、评论、聊天等都通过socket进行通信。客户端发起请求后，服务器进行数据处理、数据库交互等操作后，将信息再转发至相应的客户端<br>

#### 发送图片
服务器创建RESTful的服务接口。客户端将本地图片post至服务器，服务器把图片存储后（命名规则为账号+时间戳，以防重名），将URL返回给客户端<br>

#### 前后端同步
客户端发起如发送朋友圈等请求后，应等待服务器处理完，确认请求实际生效后再进行显示的更新。而服务器的处理对于客户端来说是异步的，因此需要通过promise包装，确保显示的更新在服务器返回确认信息之后。

#### 用户顶替
如果同时有两个用户想登陆同一个账号，就会发生用户顶替问题。通过服务器建立的在线用户列表，判断当前账号是否已经登陆，如果是登陆用户，强制当前登陆用户下线，并将在线用户列表中的socket id替换为新登录用户<br>
